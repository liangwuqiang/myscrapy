<!DOCTYPE html>
        <html><head><meta charset="UTF-8">
        </head><body>
        <p><center><h1>scrapy js的处理技巧</h1></center></p>
            <div class="cont">
<h1>scrapy js的处理技巧</h1>
<p><p><br/></p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">通过第三方工具执行js脚本</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p><strong>1、selenium</strong></p><p><strong><br/></strong></p><p>&gt;&gt;&gt; from selenium import webdriver</p><p>&gt;&gt;&gt; driver =webdriver.Firefox()</p><p>&gt;&gt;&gt; driver.get('http://www.baidu.com')</p><p>driver.page_source</p><p><br/></p><p><strong>实际操作：</strong></p><p><strong><br/></strong></p><p>①进入：python</p><p><br/></p><p><img alt="Python1.png" src="images/1e4a44ce79fb74389150d7f6e61958d5.png" title="FqVaL7bb4Ql28SHLli.png"/> </p><p><br/></p><p>②输入上面的代码：</p><p><br/></p><p><img alt="Python2.png" src="images/7089b3ee248bac0c1e783abdac7b008f.png" title="LclHvBZHxN7wz4hc3k.png"/> </p><p><br/></p><p>③执行完之后，会自动打开一个浏览器：</p><p><br/></p><p><img alt="Python3.png" src="images/e6935a883395bbbb6e958c4ad9747361.png" title="5m4Lov83nSoAUdHbmM.png"/> </p><p><br/></p><p>④通过代码操作浏览器，例如，此时我们要打开百度：</p><p><br/></p><p><img alt="Python4.png" src="images/0619b44a5986be8ed8274d13a97c7bf4.png" title="k1b8evFuhtP9fo26wc.png"/> </p><p><br/></p><p>⑤执行之后，可以看到百度已经打开：</p><p><br/></p><p><img alt="Python5.png" src="images/93c925c9acf0bcbed1d330685edd6d41.png" title="UDbBrzkGTNluOBOIIi.png"/> </p><p><br/></p><p>⑥再次查看driver.page_source，可以看到这个网页经过浏览器执行之后的源代码：</p><p><br/></p><p><img alt="Python6.png" src="images/aecbb685e3cb48b20e5e10e638c4ce63.png" title="WQjvr4XB9nUzxpRZHN.png"/> </p><p> </p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">手动模拟js的执行</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p><strong>1、通过火狐浏览器监控页面链接</strong></p><p><br/></p><p>火狐浏览器，如果安装了firebug工具，直接按F12，就可以看到调试面板：</p><p><br/></p><p><img alt="Python7.png" src="images/5c03a76e3a0950d2e40ae583deaecd58.png" title="PmfS1HzcdfueOiCSc0.png"/> </p><p><br/></p><p>然后点击“网络”，选择“保持”，再点击“全部”，然后再刷新刚才的页面，可以清楚的看到，产生页面的过程中，有很多子链接进行了内容提供，如图所示：</p><p><br/></p><p><img alt="Python8.png" src="images/f76a505a03fecd831b84365d87b4dbd0.png" title="j63C1mdgSmB8hxOKBQ.png"/> </p><p><br/></p><p>这是监控网页链接的一种方法。</p><p> </p><p><strong>2、通过js代码获取必要的信息</strong></p><p><strong><br/></strong></p><p>①输入关键字，网页跳出来的推荐的产品，但是这些产品在源代码中并不会显示出来，取而代之的是一些JS脚本，例如：</p><p><br/></p><p><img alt="Python9.png" src="images/b975c3e8bec5589b7b40ec07317d788e.png" title="GeDHslc2046GCJoiCu.png"/> </p><p><br/></p><p>②在刚才跟踪的链接里边，肯定有一个是js产生的链接，需要手动寻找：</p><p>在调试选项中，点击Javascript，会列出相应的内容；</p><p><br/></p><p>③查看并分析js代码如何产生链接</p><p><br/></p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">总结</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p>1，知道可以调用第三方工具执行js代码；</p><p>2，学会通过火狐浏览器监控页面链接；</p><p>3，学会模拟js的执行；</p><p><br/></p><p><br/></p><p><span style='color: rgb(192, 0, 0); font-family: "microsoft yahei"; font-weight: bold; line-height: 20px; background-color: rgb(255, 255, 255);'>【本文由麦子学院独家原创，转载请注明出处并保留原文链接】</span></p><p>
</p></p></div>
        </body></html>