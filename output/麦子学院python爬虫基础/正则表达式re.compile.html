<!DOCTYPE html>
        <html><head><meta charset="UTF-8">
        </head><body>
        <p><center><h1>正则表达式re.compile</h1></center></p>
            <div class="cont">
<h1>正则表达式re.compile</h1>
<p><p><br/></p><hr/><p>大家也可以体验到，有时候，我们的正则表达式写出来是很复杂的，特别是我们写的时候，很多时候我们还要去调试，那如果一个正则表达式写的很长的话，那它的可读性是很差的，因为隔了几天之后，可能自己再去看就不知道当时的思路是怎样的了，所以，在正则表达式里面，提供了一个比较方便的解决这个问题的方法，就是使用注释，一个复杂的正则表达式里面，你可以写一些注释，那这样我们就可以使它的可读性提高。</p><p><br/></p><p>那我们来看一下：</p><p><br/></p><p># -*- coding: utf-8 -*-</p><p>import re</p><p><br/></p><p>def re_pattern_flags():</p><p>     # re.VERBOSE/re.compile</p><p>S = ‘the number is 20.5’</p><p>r = re.compile(r’’’</p><p>\d+   #整数部分</p><p>\.?    #小数点，可能包含也可能不包含</p><p>\d*   #小数部分，可选</p><p>            ’’’, re.VERBOSE)  //VERBOSE这个标志位可以在这里面写注释</p><p><br/></p><p>print(re.search(r,s).group())</p><p><br/></p><p>if __name__ == '__main__':</p><p>re_pattern_flags()</p><p><br/></p><p>运行结果</p><p><br/></p><p><img alt="special22.png" src="images/c2f058fff992c5bae97702452b7b490b.png" title="tiEGMfksmqAgcVG1st.png"/></p><p><br/></p><p>如果我们不包含数字呢？</p><p><br/></p><p># -*- coding: utf-8 -*-</p><p>import re</p><p><br/></p><p>def re_pattern_flags():</p><p>     # re.VERBOSE/re.compile</p><p>S = ‘the number is 20’</p><p>r = re.compile(r’’’</p><p>\d+   #整数部分</p><p>\.?    #小数点，可能包含也可能不包含</p><p>\d*   #小数部分，可选</p><p>            ’’’, re.VERBOSE)  //VERBOSE这个标志位可以在这里面写注释</p><p><br/></p><p>print(re.search(r,s).group())</p><p><br/></p><p>if __name__ == '__main__':</p><p>re_pattern_flags()</p><p><br/></p><p>运行结果</p><p><br/></p><p><img alt="special23.png" src="images/85d2210decfc7087b7bfa297403a147a.png" title="H62lpBBzItvj6usMez.png"/></p><p><br/></p><p># -*- coding: utf-8 -*-</p><p>import re</p><p><br/></p><p>def re_pattern_flags():</p><p>     # re.VERBOSE/re.compile</p><p>S = ‘the number is 20.50’</p><p>r = re.compile(r’’’</p><p>\d+   #整数部分</p><p>\.?    #小数点，可能包含也可能不包含</p><p>\d*   #小数部分，可选</p><p>            ’’’, re.VERBOSE)  //VERBOSE这个标志位可以在这里面写注释</p><p><br/></p><p>print(re.search(r,s).group())</p><p><br/></p><p>if __name__ == '__main__':</p><p>re_pattern_flags()</p><p><br/></p><p>运行结果，这样通过注释就可以写出可读性比较强的正则表达式。</p><p><br/></p><p><img alt="special24.png" src="images/cd39be92c23227c936d6ee974d3e7688.png" title="AC9LBySFp8pn7FTpRs.png"/></p><p><br/></p><p>用re.compile函数还有一个好处就是，如果这个正则表达式是你经常要调用的，这个时候，我们建议把它编译出来，这个编译出来后，可以大大地提高正则表达式的编译速度，它编译出来返回的类型是RegexObject，这个是一个正则表达式的类，这个类的实例。</p><p><br/></p><p>RegexObject</p><p><br/></p><p>re.compile()返回的结果</p><p>1）search</p><p>2）match</p><p>3）findall</p><p>4）split</p><p>5）finditer</p><p>6）Sub</p><p><br/></p><p>可以大大的提高效率</p><p><br/></p><p>这个和re模块提供的方法，实际上是一样的。</p><p><br/></p><p>所以编译完正则表达式还可以有另一种写法</p><p><br/></p><p># -*- coding: utf-8 -*-</p><p>import re</p><p><br/></p><p>def re_pattern_flags():</p><p>     # re.VERBOSE/re.compile</p><p>S = ‘the number is 20.50’</p><p>r = re.compile(r’’’</p><p>\d+   #整数部分</p><p>\.?    #小数点，可能包含也可能不包含</p><p>\d*   #小数部分，可选</p><p>            ’’’, re.VERBOSE)  //VERBOSE这个标志位可以在这里面写注释</p><p><br/></p><p>print(r.search(s).group())</p><p><br/></p><p>if __name__ == '__main__':</p><p>re_pattern_flags()</p><p><br/></p><p>运行完后结果是一样的，</p><p><br/></p><p><img alt="special25.png" src="images/ea8dbdad5dcdf80510362d097789adc1.png" title="UG5nX2qalEKdv2mD7n.png"/></p><p><br/></p><p>正则表达式的语法，非常的灵活，也非常的丰富，大家要通过不停的去做练习，来熟悉每个通配符的组合用法，同样的问题，可能你去使用正则表达式的时候，可能会有不止一种方法，大家通过不停的练习，来找出多种方法，然后去对比，哪种方法是最简的，这个我们就可以比较有效地掌握正则表达式的语法</p><p><br/></p><hr/><p><strong>作业：</strong></p><p><br/></p><p>1）希望大家去通读一下Python标准库里面的正则表达式里面的re模块的官方文档</p><p><br/></p><p><img alt="special26.png" src="images/1124fb8f1f223b5af6fca3ae2581ae73.png" title="tOIIjYn3bNojR9ghCy.png"/></p><p><br/></p><p>2）正则表达式练习</p><p><br/></p><p>识别电话号码：</p><p><br/></p><p>1）11位数字：13774347721</p><p>2）带连字符：137_7434_7721</p><p>3）带中国国家码：+8613774347721</p><p>4）带中国国家码及连字符：+86137_7434_7721</p><p>有多种方案，想一想有没有更简洁的方案。</p><p><br/></p><p><br/></p><p><br/></p><p><span style="color: rgb(192, 0, 0);">【本文由麦子学院独家原创，转载请注明出处并保留原文链接】</span></p><p><br/></p><p>
</p></p></div>
        </body></html>