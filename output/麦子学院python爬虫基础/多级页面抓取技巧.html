<!DOCTYPE html>
        <html><head><meta charset="UTF-8">
        </head><body>
        <p><center><h1>多级页面抓取技巧</h1></center></p>
            <div class="cont">
<h1>多级页面抓取技巧</h1>
<p><p><br/></p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">需求分析</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p>1、目标网站——天猫商城</p><p>2、抓取内容——天猫商城销量前60的商品的情况（商品价格、商品名称、商品URL）、店铺的情况（店铺名称、店铺URL、公司名称、公司地址）</p><p>3、存储格式——Excel表格</p><p> </p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">代码解读</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p><strong>1、item编写</strong></p><p><br/></p><p><img alt="Python1.png" src="images/bed2d2eaf554694efe6a2f0a608c0d7f.png" title="1n4xvuEohg9IDg3Bw3.png"/> </p><p><br/></p><p><strong>2、spider编写</strong></p><p><br/></p><p><img alt="Python2.png" height="327" src="images/1e8db66d96f96f9445bdc2aba9298c24.png" style="width: 694px; height: 327px;" title="uQupUOVJ4kAXnODdH3.png" width="694"/> </p><p><img alt="Python3.png" height="278" src="images/ba2fcfa6cac53751a0ebd2b87a0c5058.png" style="width: 696px; height: 278px;" title="W9Jy30hfG1j97y2Bv6.png" width="696"/> </p><p><img alt="Python4.png" src="images/2af8c7f9267528383fd6b0c9e0d807a9.png" title="FlrCgBx4MB17RBuR56.png"/> </p><p><br/></p><p><strong>浏览网页内容</strong></p><p><br/></p><p><img alt="Python5.png" src="images/79aea061221016575a3be0e2bdd27790.png" title="KKpcHZp7XYQIWQW4NP.png"/> </p><p><br/></p><p><img alt="Python6.png" src="images/e06bcd012e4fd2d0ff5f7866ddcc6ce0.png" title="50JC0G1U3ZJytss0bx.png"/> </p><p><br/></p><p><strong>右击某个元素，点击“使用firebug查看元素”：</strong></p><p><br/></p><p><strong><img alt="Python7.png" src="images/67c2a86245b5b79b62cf5eaebb60954e.png" title="w7ov76AHTLFFE6ZoIZ.png"/> </strong></p><p><br/></p><p><strong>存储的excel 表，打开可能是乱码，是因为编码格式不正确：</strong></p><p><br/></p><p><img alt="Python8.png" src="images/4b72a709123fd426b2d6e4711ecaa5dc.png" title="nR2oDjKlikkkThjT1B.png"/> </p><p><br/></p><p><strong>正确的方法是把要打开的文件使用notepad++打开，然后选择格式，点击“转为ANSI编码格式”：</strong></p><p><br/></p><p><strong><img alt="Python9.png" src="images/2f024a6ba139a395f6539faa935e0f81.png" title="2zm7cwHRnQFfSUyWqv.png"/> </strong></p><p><br/></p><p><strong>之后另存为一个新的文件：</strong></p><p><br/></p><p><img alt="Python10.png" src="images/695bdcb3f36272c5f707df5fa6495a28.png" title="D43OBz45IMRJtVJ6mO.png"/> </p><p><br/></p><p><strong>打开刚才存储的文件，可以清晰看到里边的内容：</strong></p><p><br/></p><p><img alt="Python11.png" src="images/3890c6fb5b451ff1f9a48f4ec4730266.png" title="CS833mCerOgpc1Ory0.png"/> </p><p> </p><p><strong>3、settings设置</strong></p><p><br/></p><p>Kitchen</p><p>Appliances</p><p>Cookware</p><p>Dining Room</p><p>Furniture</p><p>Dishware &amp; Utensils</p><p>Linens</p><p><br/></p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">总结</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p>要求掌握：怎样在spider的不同parse函数中传递数据</p><p> </p><p><br/></p><p><span style='color: rgb(192, 0, 0); font-family: "microsoft yahei"; font-weight: bold; line-height: 20px; background-color: rgb(255, 255, 255);'>【本文由麦子学院独家原创，转载请注明出处并保留原文链接】</span></p><p>
</p></p></div>
        </body></html>