<!DOCTYPE html>
        <html><head><meta charset="UTF-8">
        </head><body>
        <p><center><h1>scrapy使用步骤</h1></center></p>
            <div class="cont">
<h1>scrapy使用步骤</h1>
<p><p><br/></p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">安装步骤</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p>1、安装python2.7</p><p>2、安装pip</p><p>3、安装lxml</p><p>4、安装OpenSSL</p><p>5、安装scrapy</p><p>注：如果安装过程中碰到问题，请百度/谷歌；或者查看老师博客：http://www.cnblogs.com/python-life</p><p><br/></p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">使用步骤</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p>1、Creating a project</p><p>2、Defining our Item</p><p>3、Writing a spider</p><p>4、Writing an Item Pipeline</p><p>5、Execute crawl</p><p><br/></p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">代码实例</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p>需要两个网页的源代码<br/></p><p><br/></p><p><strong>1、创建一个工程，创建工程的命令，scrapy startproject ，tutorial为工程名</strong></p><p><br/></p><p><strong><img alt="Python1.png" src="images/4880d37453b5aa68dab7428a41947cf8.png" title="Wwc9qWYdToMSTmPdB3.png"/> </strong></p><p><br/></p><p><strong>2、工程创建成功</strong></p><p><br/></p><p><strong><img alt="Python2.png" src="images/efcdc4c046a92637a3ab912599d8676d.png" title="gx8UazoNaVHyvDwVQM.png"/> </strong></p><p><br/></p><p><strong>3、创建成功之后的目录结构</strong></p><p><br/></p><p>tutorial/</p><p>scrapy.cfg           # deploy configuration file</p><p>tutorial/           # project's Python module, you'll import your code from here</p><p>__init__.py</p><p>items.py           # project items file</p><p>pipelines.py       # project pipelines file</p><p>settings.py       # project settings file</p><p>spiders/           # a directory where you'll later put your spiders</p><p>__init__.py</p><p><br/></p><p><strong>4、编写一个spider</strong></p><p><br/></p><p><strong><img alt="Python3.png" src="images/9c1dec0c775e910156bcd0cb25ddee9b.png" title="3hsfWZdbpXxysN1srh.png"/> </strong></p><p><br/></p><p><strong>5、代码（粘贴对应网站的URL）</strong></p><p><br/></p><p><img alt="Python4.png" src="images/999d29bb718f5fa2dd59d148531c923f.png" title="Q1g1Cokn9Sp3pNopCi.png"/> </p><p><br/></p><p><strong>6、运行</strong></p><p><br/></p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">抓取网页标题、描述</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p><strong>1、defining our item(item文件已经生成，只需要根据需要定义，改写)</strong></p><p><br/></p><p><strong><img alt="Python5.png" src="images/a03ab6b5ab35f7b56222ee7265764930.png" title="6dYTkYUXZ9Vm8Sgf2L.png"/></strong></p><p><strong> </strong></p><p><strong>2、改变上次的内容</strong></p><p><br/></p><p><img alt="Python6.png" src="images/9c091e0b4098d955187c588379b21d40.png" title="4T21WrCWL2Am4YpTM6.png"/> </p><p><br/></p><p><strong>3、运行（scrapy list 可以列出所有爬虫）</strong></p><p><br/></p><p><strong>4、将获得的数据存储在数据库中</strong></p><p><br/></p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">总结</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p>1、能够正确在自己电脑上安装scrapy；</p><p>2、掌握编写一个爬虫的基本步骤；</p><p><br/></p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">作业</span></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal;">改进课件中的示例，把获得的数据存储到mysql数据库中</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal;"><br/></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal;"><strong>要求：</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal;"><strong><br/></strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal;">改写pipelines.py中的class，把item中的数据存储到mysql中；</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal;"> </p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal;"><strong>提示：</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal;"><strong><br/></strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal;">1、需要在settings.py中设置启动ITEM_PIPELINES；</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal;">2、需要现在mysql数据库中建立相应的表；</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px; white-space: normal;">3、可以参考scrapy官方文档</p><p> <br/></p><p><br/></p><p><span style='color: rgb(192, 0, 0); font-family: "microsoft yahei"; font-weight: bold; line-height: 20px; background-color: rgb(255, 255, 255);'>【本文由麦子学院独家原创，转载请注明出处并保留原文链接】</span></p><p>
</p></p></div>
        </body></html>