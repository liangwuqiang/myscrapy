<!DOCTYPE html>
        <html><head><meta charset="UTF-8">
        </head><body>
        <p><center><h1>部署Scrapy 到Scrapyd</h1></center></p>
            <div class="cont">
<h1>部署Scrapy 到Scrapyd</h1>
<p><p><br/></p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">安装上传工具</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p><strong>1、上传工具</strong></p><p><strong><br/></strong></p><p>scrapyd-client</p><p><br/></p><p><strong>2、安装方法：</strong></p><p><strong><br/></strong></p><p>pip install scrapyd-client</p><p><br/></p><p><strong>3、上传方法</strong>：</p><p><br/></p><p>python d:\Python27\Scripts\scrapyd-deploy target -p project</p><p>注：</p><p>target -- 主机地址，如localhost;</p><p>project -- 工程名，如stock_uc;</p><p><br/></p><p><strong>4、前提：</strong></p><p><strong><br/></strong></p><p>①假设python安装位置d:\Python27\；</p><p>②需进入工程目录下执行上传命令；</p><p>③可选参数：</p><p>--version r03,即：</p><p>python d:\Python27\Scripts\scrapyd-deploy target -p project --version r03</p><p> </p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">安装调度工具curl</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p><strong>1、Linux系统</strong></p><p><strong><br/></strong></p><p>一般情况下Linux系统自带curl工具，如果没有请百度安装方法；</p><p><br/></p><p><strong>2、Windows系统</strong></p><p><br/></p><p>1、下载地址：</p><p>链接：http://pan.baidu.com/s/1mgy9zVq </p><p>密码：4lqh</p><p><br/></p><p>2、安装方法：</p><p> 1）解压下载的文件夹，比如解压后的位置E:\bin-curl</p><p> 2）添加解压后的文件夹路径到环境变量Path中，比如：   D:\Python27\;D:\Python27\Scripts\;E:\bin-curl\;***</p><p> 3）重启电脑是环境变量生效；</p><p> 4）测试，运行：curl --help 查看帮助信息；</p><p> </p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">调度爬虫</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p><strong>1、添加版本信息</strong></p><p><strong><br/></strong></p><p>curl http://localhost:6800/addversion.json -F project=myproject -F       version=r23 -F egg=@myproject.egg</p><p><br/></p><p><strong>2、调度spider执行</strong></p><p><strong><br/></strong></p><p>curl http://localhost:6800/schedule.json -d project=myproject -d    spider=somespider</p><p><br/></p><p><strong>3、取消spider的执行</strong></p><p><strong><br/></strong></p><p>curl http://localhost:6800/cancel.json -d project=myproject -d      job=6487ec79947edab326d6db28a2d8651</p><p><br/></p><p><strong>4、列出工程</strong></p><p><strong><br/></strong></p><p>curl http://localhost:6800/listprojects.json</p><p><br/></p><p><strong>5、如何启动scrapyd，以及如何把一个现有的工程部署到scrapyd上面：</strong></p><p><strong><br/></strong></p><p>第一步：输入scrapyd，敲击enter，等待：</p><p><br/></p><p><img alt="Python1.png" src="images/860161b773de1204ae696aa945a6db78.png" title="XsfKb6RAhMqmAbmPrd.png"/> </p><p><br/></p><p>第二步：在这个服务器上部署工程，具体方法前面已经提到过</p><p><br/></p><p><img alt="Python2.png" src="images/2fb99822a295c1928619b3b28dfe6bc6.png" title="PPeTPraD7FI5Ib20XC.png"/> </p><p><br/></p><p>第三步：调度spider：</p><p><br/></p><p><img alt="Python3.png" src="images/595c2725e876d9610538986dd0372e77.png" title="S8z3hYArmzXWUPZaKS.png"/> </p><p><br/></p><p>第四步：取消</p><p><br/></p><p><img alt="Python4.png" src="images/b0eddb86d11a22f3e5ce535270fe204e.png" title="DqsRw4JKXUVVZUdhoD.png"/> </p><p><br/></p><p>第五步：列出工程</p><p><br/></p><p><img alt="Python5.png" src="images/38698228222678e7d110c89819ee906a.png" title="PPkzBmdD4ieENSqm2d.png"/> </p><p><br/></p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">总结</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p>1，能正确安装scrapyd-client;</p><p>2，能够正确安装curl；</p><p>3，学会project的上传和spider的调度；</p><p><br/></p><p><br/></p><p><span style='color: rgb(192, 0, 0); font-family: "microsoft yahei"; font-weight: bold; line-height: 20px; background-color: rgb(255, 255, 255);'>【本文由麦子学院独家原创，转载请注明出处并保留原文链接】</span></p><p>
</p></p></div>
        </body></html>