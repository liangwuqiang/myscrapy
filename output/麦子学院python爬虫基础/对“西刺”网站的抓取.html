<!DOCTYPE html>
        <html><head><meta charset="UTF-8">
        </head><body>
        <p><center><h1>对“西刺”网站的抓取</h1></center></p>
            <div class="cont">
<h1>对“西刺”网站的抓取</h1>
<p><p><br/></p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">需求分析</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p>使用单一ip抓取网页过程中，经常碰到IP被封的情况；现需要获取一批代理IP进行网页抓取；</p><p>目前找到一个叫"西刺"的网站，可以提供免费代理IP，领导要求对上面的IP进行爬取，以供日后使用；</p><p> </p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">网站结构分析</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p>步骤：</p><p> </p><p>首页</p><p>各分类IP列表连接</p><p>     IP列表（多页）</p><p>       具体IP获取</p><p><br/></p><p><strong>①进入“西刺”首页：</strong></p><p><br/></p><p><img alt="Python1.png" src="images/32315f1541b20a9c483a603e4f38fefc.png" title="2LQ6ptqqpvnlQ0Ciuy.png"/> </p><p><br/></p><p><strong>②点击国内匿名代理，进入到国内匿名代理：</strong></p><p><br/></p><p><img alt="Python2.png" src="images/6144e8745fc52036ab5823a491d0ecfe.png" title="lgsPlfwt4Gy6FPZTZ9.png"/> </p><p><br/></p><p><strong>③在页面上点击右键，然后点击“查看也页面源代码”</strong></p><p><br/></p><p><img alt="Python3.png" src="images/e39dc6eae0573db2bf3d7aa33b319233.png" title="1LeJ9ydTghZgnIR1S6.png"/> </p><p><br/></p><p><img alt="Python4.png" src="images/12820f6a4992f2d63883462f126e5d4f.png" title="xVDmDJbJwr0DC0VCuO.png"/> </p><p><br/></p><p><strong>④由于代码没有规律可循，我们可以右击某一个IP，点击“使用firebug查看元素”，此时的代码是已经结构化的源代码：</strong></p><p><strong><br/></strong></p><p><img alt="Python5.png" src="images/2d880b1204bd4c4281f70fde2fd22d53.png" title="VEji08OGIg9qtJftXh.png"/> </p><p><br/></p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">存储方式分析</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p><strong>可选方式：</strong></p><p><strong><br/></strong></p><p>1，文本文件；</p><p>2，csv文件；</p><p>3，json文件；</p><p>4，jsonlines文件；</p><p>5，数据库（存储在本地数据库会非常方便）</p><p>6，云存储</p><p> </p><h3><span style="color: rgb(94, 207, 186);"></span></h3><hr/><h3><span style="color: rgb(94, 207, 186);">规划代码结构</span><br/></h3><p><span style="color: rgb(94, 207, 186);"><br/></span></p><p>1，在spider中编写页面的抽取规则，并返回结果或者request；</p><p>2，在item pipelines中对所获得结果进行处理，即存储；</p><p>3，在settings.py中启用item pipelines，并设置其他参数，比如：</p><p>数据库连接参数；日志文件名称；</p><p> </p><p><br/></p><p><span style='color: rgb(192, 0, 0); font-family: "microsoft yahei"; font-weight: bold; line-height: 20px; background-color: rgb(255, 255, 255);'>【本文由麦子学院独家原创，转载请注明出处并保留原文链接】</span></p><p>
</p></p></div>
        </body></html>